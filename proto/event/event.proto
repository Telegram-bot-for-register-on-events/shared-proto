syntax = "proto3";

import "google/protobuf/timestamp.proto";

package event;

option go_package = "github.com/Telegram-bot-for-register-on-events/shared-proto/pb/event";

service EventService {
  rpc GetEvents(GetEventsRequest) returns (GetEventsResponse);
  rpc GetEvent(GetEventRequest) returns (GetEventResponse);
  rpc RegisterUser(RegisterUserRequest) returns (RegisterUserResponse);
}

message Event {
  string id = 1;
  string title = 2;
  string description = 3;
  google.protobuf.Timestamp starts_at = 4;
}

message GetEventsRequest {}

message GetEventsResponse{
  repeated Event events = 1;
}

message GetEventRequest {
  string event_id = 1;
}

message GetEventResponse {
  Event event = 1;
}

message RegisterUserRequest {
  string event_id = 1;
  int64 chat_id = 2;
  string username = 3;
}

message RegisterUserResponse {
  bool success = 1;
}